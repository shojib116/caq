// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Subject {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  text          String
  personnels    Personnel[]   @relation(fields: [personnelIDs], references: [id])
  personnelIDs  String[]      @db.ObjectId
  questions     Question[]
}

model Question {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  subject       Subject       @relation(fields: [subjectID], references: [id])
  subjectID     String        @db.ObjectId
  personnels    Personnel[]   @relation(fields: [personnelIDs], references: [id])
  personnelIDs  String[]      @db.ObjectId
  text          String
  level         Int
}

model Personnel {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  designation   String        @unique
  subjects      Subject[]     @relation(fields: [subjectIDs], references: [id])
  subjectIDs    String[]      @db.ObjectId
  questions     Question[]    @relation(fields: [questionIDs], references: [id])
  questionIDs   String[]      @db.ObjectId
}

model FormHeader {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  logoURL       String
  centerText    String
  formNumber    String?
  issue         String?
  revision      String?
  date          DateTime? 
}

